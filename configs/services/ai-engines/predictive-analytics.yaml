service:
  name: predictive-analytics
  version: 1.0.0
  port: 8003
  description: Predictive analytics and forecasting engine

runtime:
  workers: 4
  max_memory: 8GB
  timeout: 180s
  restart_policy: always

ai_models:
  primary: google/gemini-flash
  fallback: openai/gpt-4

  models:
    gemini-flash:
      provider: google
      model: gemini-flash
      api_key: ${GOOGLE_API_KEY}
      temperature: 0.3
      max_tokens: 8000

    gpt-4:
      provider: openai
      model: gpt-4-turbo-preview
      api_key: ${OPENAI_API_KEY}
      temperature: 0.3
      max_tokens: 8000

prediction_types:
  location_prediction:
    enabled: true
    algorithms:
      - markov_chains
      - lstm
      - gradient_boosting
    features:
      - historical_locations
      - temporal_patterns
      - social_connections
      - behavioral_indicators

  activity_prediction:
    enabled: true
    algorithms:
      - time_series_forecasting
      - pattern_recognition
      - sequence_modeling
    horizon: 30d

  association_prediction:
    enabled: true
    algorithms:
      - link_prediction
      - collaborative_filtering
      - graph_neural_networks
    confidence_threshold: 0.75

  resource_prediction:
    enabled: true
    types:
      - financial_resources
      - digital_resources
      - physical_resources
      - human_resources

  threat_prediction:
    enabled: true
    types:
      - attack_likelihood
      - target_selection
      - timing_prediction
      - method_prediction

machine_learning:
  frameworks:
    - tensorflow
    - pytorch
    - scikit-learn
    - xgboost

  models:
    - name: location_predictor
      type: lstm
      architecture: [128, 64, 32]
      dropout: 0.2
      accuracy: 78%

    - name: activity_forecaster
      type: arima
      order: [5, 1, 2]
      seasonal: true
      accuracy: 72%

    - name: link_predictor
      type: graph_neural_network
      layers: 3
      hidden_dim: 64
      accuracy: 80%

    - name: threat_classifier
      type: random_forest
      n_estimators: 200
      max_depth: 15
      accuracy: 85%

time_series:
  algorithms:
    - arima
    - prophet
    - lstm
    - gru
    - attention_mechanisms

  features:
    - trend_detection
    - seasonality_detection
    - anomaly_detection
    - change_point_detection

forecasting:
  horizons:
    short_term: 7d
    medium_term: 30d
    long_term: 90d

  confidence_intervals: [80%, 90%, 95%]
  update_frequency: 1h

feature_engineering:
  temporal_features:
    - hour_of_day
    - day_of_week
    - day_of_month
    - week_of_year
    - month_of_year
    - is_weekend
    - is_holiday

  aggregations:
    - moving_average
    - exponential_smoothing
    - cumulative_sum
    - rolling_std
    - lag_features

  transformations:
    - normalization
    - standardization
    - log_transform
    - box_cox

model_training:
  auto_training: true
  train_interval: 24h
  validation_split: 0.2
  test_split: 0.1
  cross_validation: 5-fold

  hyperparameter_tuning:
    method: grid_search
    optimization_metric: accuracy
    cv_folds: 5

performance_metrics:
  classification:
    - accuracy
    - precision
    - recall
    - f1_score
    - roc_auc

  regression:
    - mse
    - rmse
    - mae
    - r2_score
    - mape

  forecasting:
    - mase
    - smape
    - rmsse

database:
  postgresql:
    connection: ${DATABASE_URL}
    pool_size: 25

  timescaledb:
    enabled: true
    hypertables:
      - predictions
      - forecasts
      - metrics

  redis:
    connection: ${REDIS_URL}
    cache_ttl: 6h

  elasticsearch:
    url: ${ELASTICSEARCH_URL}
    index_prefix: apollo-predictions

model_registry:
  type: mlflow
  tracking_uri: ${MLFLOW_TRACKING_URI}
  artifact_location: ${MLFLOW_ARTIFACT_LOCATION}
  versioning: true

integration:
  intelligence_fusion: http://intelligence-fusion:4003
  criminal_behavior_ai: http://criminal-behavior-ai:8002
  operations: http://operations:4002
  surveillance: http://surveillance:5000

api:
  version: v1
  base_path: /api/v1
  authentication: jwt
  rate_limiting: 300/minute

monitoring:
  metrics: true
  prometheus_endpoint: /metrics
  health_check: /health
  custom_metrics:
    - predictions_generated_total
    - model_accuracy
    - inference_duration_seconds

logging:
  level: info
  format: json
  outputs:
    - stdout
    - file: /var/log/apollo/predictive-analytics.log

service_discovery:
  consul:
    enabled: true
    address: consul:8500
    service_name: predictive-analytics
    health_check_interval: 10s
